// Translation data
const translations = {
  en: {
    // Header
    "free-shipping": "Free Shipping",
    "on-orders": "on orders over $300",
    "search-placeholder": "Search products, categories...",

    // Product names (keep English as original)
    "baby fabric shoe": "baby fabric shoe",
    "full sleeve t-shirt": "full sleeve t-shirt",
    "pink embro design top": "pink embro design top",
    "Pocket watch": "Pocket watch",
    "floral wrap midiskirt": "floral wrap midiskirt",
    "floral skirt": "floral skirt",
    "garment cotton shirt": "garment cotton shirt",
    "men fleece jacket": "men fleece jacket",
    "Gymnastic shoes": "Gymnastic shoes",
    "air tekking shoes": "air tekking shoes",
    "smart watch": "smart watch",
    "silver necklace": "silver necklace",
    "Mens Leather Jackets": "Mens Leather Jackets",
    "titan perfume": "titan perfume",
    "men's leather belt": "men's leather belt",
    "platinum zircon ring": "platinum zircon ring",
    "shampoo-conditioner": "shampoo-conditioner",
    "rose gold earrings": "rose gold earrings",
    "Casual Brown shoes": "Casual Brown shoes",
    "Party Wear Shoes": "Party Wear Shoes",
    "Sports Shoes": "Sports Shoes",
    "Men's Leather Shoe": "Men's Leather Shoe",
    "Sports wear": "Sports wear",
    "Blue Hoodie": "Blue Hoodie",
    "Cowboy Hat": "Cowboy Hat",
    "White headphone": "White headphone",
    "Black BT headphone": "Black BT headphone",
    "Gaming headphone": "Gaming headphone",
    "Casual black shoe": "Casual black shoe",
    "Sport shoe": "Sport shoe",
    "Black Plain Shirt": "Black Plain Shirt",
    "Standing Camera": "Standing Camera",
    "EF Lens Camera": "EF Lens Camera",
    "Canon Camera": "Canon Camera",
    "Bow Black dress": "Bow Black dress",
    "Bow Blue dress": "Bow Blue dress",
    "bubble Blue dress": "bubble Blue dress",
    "bubble Brown dress": "bubble Brown dress",
    "bubble pink dress": "bubble pink dress",
    "offshoulder dress": "offshoulder dress",
    "Bow pink dress": "Bow pink dress",
    "White earpods": "White earpods",
    "Black earpods": "Black earpods",
    "Gray Plain Shirt": "Gray Plain Shirt",
    "Hp Laptop": "Hp Laptop",
    "Iphone 14": "Iphone 14",
    Iphone: "Iphone",
    "Phone holder": "Phone holder",
    "Infinix Smart5": "Infinix Smart5",
    Playstation: "Playstation",
    Powerbank: "Powerbank",
    "Ball Gown": "Ball Gown",
    "Prom green dress": "Prom green dress",
    "Prom pink dress": "Prom pink dress",
    "Prom purple dress": "Prom purple dress",
    "Jean Skirt": "Jean Skirt",
    "Hp Television": "Hp Television",
    "Dell Television": "Dell Television",
    "Suit skirt": "Suit skirt",
    "Black VR googles": "Black VR googles",
    "White VR googles": "White VR googles",
    "White plain shirt": "White plain shirt",
    "Coutoure Handbag": "Coutoure Handbag",
    "Stand Cooker": "Stand Cooker",
    "Lash Curler": "Lash Curler",
    "Cross Bag": "Cross Bag",
    "Ladies Bag": "Ladies Bag",
    "B&W Handbag": "B&W Handbag",
    "Royal gold watch": "Royal gold watch",
    "Hand Fan": "Hand Fan",
    "Makeup set": "Makeup set",
    "Comfort glasses": "Comfort glasses",
    Microwave: "Microwave",
    "Gaming Chair": "Gaming Chair",
    "Baby Potty": "Baby Potty",
    "Unisex Glasses": "Unisex Glasses",
    "Silver Watch": "Silver Watch",
    "Geometric frame": "Geometric frame",
    "Casual Frame": "Casual Frame",
    "Butterfly Bracelet": "Butterfly Bracelet",
    "Gaming Headset": "Gaming Headset",
    "Diamond Ring": "Diamond Ring",
    "Ladies Purse": "Ladies Purse",
    FlashDrive: "FlashDrive",
    "2pcs Messenger bag": "2pcs Messenger bag",
    "Black Watch": "Black Watch",
    "Black Cap": "Black Cap",
    "Shampoo-conditioner": "Shampoo-conditioner",

    // Navigation
    "all-products": "All Products",
    "my-favorites": "My Favorites",
    "my-cart": "My Cart",
    checkout: "Checkout",
    "my-order-history": "My Order History",

    // Product categories
    all: "All",
    baby: "Baby",
    shirts: "Shirts",
    women: "Women",
    watch: "Watch",
    men: "Men",
    footwear: "Footwear",
    accessories: "Accessories",
    perfume: "Perfume",
    hair: "Hair",
    shorts: "Shorts",
    hats: "Hats",
    electronic: "Electronic",
    bag: "Bag",
    appliance: "Appliance",
    makeup: "Makeup",
    glasses: "Glasses",

    // Messages
    "favorites-empty": "Your favorites list is empty.",
    "cart-empty": "Your cart is empty.",
    "no-orders": "You have no past orders.",
    "no-results": "No products found. Try a different search or filter.",
    "added-to-favorites": "added to favorites!",
    "removed-from-favorites": "removed from favorites.",
    "added-to-cart": "added to cart!",
    "quantity-increased": "quantity increased to",
    "removed-from-cart": "Item removed from cart.",
    "removed-from-favorites-msg": "Item removed from favorites.",
    "cart-empty-checkout": "Your cart is empty. Add products to checkout.",
    "order-completed": "Order completed! Thanks for shopping with us.",
    "history-cleared": "Order history has been cleared.",
    "empty-order": "Cannot submit an empty order.",

    // Checkout form
    "personal-details": "Personal Details",
    "full-name": "Full Name",
    email: "Email",
    "shipping-address": "Shipping Address",
    "phone-number": "Phone Number",
    "payment-method": "Payment Method",
    "cash-on-delivery": "Cash on Delivery",
    "bank-transfer": "Bank Transfer",
    "bank-account-details": "Bank Account Details",
    "account-name": "Account Name: Treasure E-Commerce",
    "account-number": "Account Number: 1234567890",
    bank: "Bank: Generic Bank",
    "transfer-instruction":
      "Please make the transfer and then click 'Submit Order'.",
    "submit-order": "Submit Order",

    // Cart totals
    subtotal: "Subtotal",
    "checkout-fee": "Checkout Fee",
    total: "Total",

    // Order history
    "order-placed": "Order Placed",
    "total-price": "Total Price",
    customer: "Customer",
    address: "Address",
    phone: "Phone",
    products: "Products",
    "clear-history": "Clear History",

    // Footer
    "brand-directory": "Brand directory",
    fashion: "Fashion",
    "t-shirt": "T-shirt",
    "shorts-jeans": "shorts & jeans",
    jacket: "jacket",
    "dress-frock": "dress & frock",
    innerwear: "innerwear",
    footwear: "footwear",
    sport: "sport",
    formal: "formal",
    boots: "Boots",
    casual: "casual",
    "safety-shoes": "safety shoes",
    "party-wear-shoes": "Party wear shoes",
    branded: "Branded",
    jewellery: "jewellery",
    necklace: "Necklace",
    "couple-rings": "Couple rings",
    crystal: "Crystal",
    bangles: "Bangles",
    bracelets: "bracelets",
    nosepin: "nosepin",
    chain: "chain",
    earrings: "Earrings",
    cosmetics: "cosmetics",
    shampoo: "Shampoo",
    bodywash: "Bodywash",
    facewash: "Facewash",
    "makeup-kit": "makeup kit",
    lipstick: "lipstick",
    prefume: "prefume",
    scrub: "scrub",
    "hair-gel": "hair gel",
    "hair-dye": "hair dye",
    sunscreen: "sunscreen",
    liner: "liner",
    "popular-categories": "Popular Categories",
    "electronic-footer": "Electronic",
    watches: "Watches",
    "prices-drop": "Prices drop",
    "new-products": "New products",
    "best-sales": "Best sales",
    "popular-sales": "Popular Sales",
    sitemap: "Sitemap",
    "our-company": "Our Company",
    delivery: "Delivery",
    "legal-notice": "Legal Notice",
    "terms-conditions": "Terms and conditions",
    "about-us": "About us",
    "secure-payment": "Secure payment",
    services: "Services",
    "contact-us": "Contact us",
    contact: "Contact",
    "follow-us": "Follow Us",
    copyright: "Copyright © Treasure all rights reserved.",
  },

  fr: {
    // Header
    "free-shipping": "Livraison Gratuite",
    "on-orders": "sur les commandes de plus de 300$",
    "search-placeholder": "Rechercher des produits, catégories...",

    // Product names (French translations)
    "baby fabric shoe": "chaussure en tissu pour bébé",
    "full sleeve t-shirt": "t-shirt à manches longues",
    "pink embro design top": "haut brodé rose design",
    "Pocket watch": "Montre de poche",
    "floral wrap midiskirt": "jupe midi florale",
    "floral skirt": "jupe florale",
    "garment cotton shirt": "chemise en coton",
    "men fleece jacket": "veste polaire homme",
    "Gymnastic shoes": "chaussures de gymnastique",
    "air tekking shoes": "chaussures de randonnée",
    "smart watch": "montre intelligente",
    "silver necklace": "collier en argent",
    "Mens Leather Jackets": "Vestes en cuir pour hommes",
    "titan perfume": "parfum titan",
    "men's leather belt": "ceinture en cuir homme",
    "platinum zircon ring": "bague zircon platine",
    "shampoo-conditioner": "shampooing-revitalisant",
    "rose gold earrings": "boucles d'oreilles or rose",
    "Casual Brown shoes": "chaussures décontractées marron",
    "Party Wear Shoes": "chaussures de soirée",
    "Sports Shoes": "chaussures de sport",
    "Men's Leather Shoe": "chaussure en cuir homme",
    "Sports wear": "vêtements de sport",
    "Blue Hoodie": "sweat à capuche bleu",
    "Cowboy Hat": "chapeau de cowboy",
    "White headphone": "casque blanc",
    "Black BT headphone": "casque BT noir",
    "Gaming headphone": "casque de jeu",
    "Casual black shoe": "chaussure décontractée noire",
    "Sport shoe": "chaussure de sport",
    "Black Plain Shirt": "chemise unie noire",
    "Standing Camera": "caméra sur pied",
    "EF Lens Camera": "caméra objectif EF",
    "Canon Camera": "caméra Canon",
    "Bow Black dress": "robe noire à nœud",
    "Bow Blue dress": "robe bleue à nœud",
    "bubble Blue dress": "robe bleue à bulles",
    "bubble Brown dress": "robe marron à bulles",
    "bubble pink dress": "robe rose à bulles",
    "offshoulder dress": "robe épaules dénudées",
    "Bow pink dress": "robe rose à nœud",
    "White earpods": "écouteurs blancs",
    "Black earpods": "écouteurs noirs",
    "Gray Plain Shirt": "chemise unie grise",
    "Hp Laptop": "ordinateur portable HP",
    "Iphone 14": "iPhone 14",
    Iphone: "iPhone",
    "Phone holder": "support téléphone",
    "Infinix Smart5": "Infinix Smart5",
    Playstation: "PlayStation",
    Powerbank: "batterie externe",
    "Ball Gown": "robe de bal",
    "Prom green dress": "robe de bal verte",
    "Prom pink dress": "robe de bal rose",
    "Prom purple dress": "robe de bal violette",
    "Jean Skirt": "jupe en jean",
    "Hp Television": "télévision HP",
    "Dell Television": "télévision Dell",
    "Suit skirt": "jupe de costume",
    "Black VR googles": "lunettes VR noires",
    "White VR googles": "lunettes VR blanches",
    "White plain shirt": "chemise unie blanche",
    "Coutoure Handbag": "sac à main couture",
    "Stand Cooker": "cuisinière sur pied",
    "Lash Curler": "recourbe-cils",
    "Cross Bag": "sac bandoulière",
    "Ladies Bag": "sac pour dames",
    "B&W Handbag": "sac à main N&B",
    "Royal gold watch": "montre or royal",
    "Hand Fan": "ventilateur à main",
    "Makeup set": "kit de maquillage",
    "Comfort glasses": "lunettes confort",
    Microwave: "micro-ondes",
    "Gaming Chair": "chaise de jeu",
    "Baby Potty": "pot bébé",
    "Unisex Glasses": "lunettes unisexe",
    "Silver Watch": "montre argentée",
    "Geometric frame": "monture géométrique",
    "Casual Frame": "monture décontractée",
    "Butterfly Bracelet": "bracelet papillon",
    "Gaming Headset": "casque de jeu",
    "Diamond Ring": "bague diamant",
    "Ladies Purse": "bourse pour dames",
    FlashDrive: "clé USB",
    "2pcs Messenger bag": "sac messager 2 pièces",
    "Black Watch": "montre noire",
    "Black Cap": "casquette noire",
    "Shampoo-conditioner": "shampooing-revitalisant",

    // Navigation
    "all-products": "Tous les Produits",
    "my-favorites": "Mes Favoris",
    "my-cart": "Mon Panier",
    checkout: "Commander",
    "my-order-history": "Mon Historique de Commandes",

    // Product categories
    all: "Tous",
    baby: "Bébé",
    shirts: "Chemises",
    women: "Femmes",
    watch: "Montre",
    men: "Hommes",
    footwear: "Chaussures",
    accessories: "Accessoires",
    perfume: "Parfum",
    hair: "Cheveux",
    shorts: "Shorts",
    hats: "Chapeaux",
    electronic: "Électronique",
    bag: "Sac",
    appliance: "Appareil",
    makeup: "Maquillage",
    glasses: "Lunettes",

    // Messages
    "favorites-empty": "Votre liste de favoris est vide.",
    "cart-empty": "Votre panier est vide.",
    "no-orders": "Vous n'avez aucune commande passée.",
    "no-results": "Aucun produit trouvé. Essayez une recherche différente.",
    "added-to-favorites": "ajouté aux favoris!",
    "removed-from-favorites": "retiré des favoris.",
    "added-to-cart": "ajouté au panier!",
    "quantity-increased": "quantité augmentée à",
    "removed-from-cart": "Article retiré du panier.",
    "removed-from-favorites-msg": "Article retiré des favoris.",
    "cart-empty-checkout":
      "Votre panier est vide. Ajoutez des produits pour commander.",
    "order-completed":
      "Commande terminée! Merci d'avoir fait vos achats avec nous.",
    "history-cleared": "L'historique des commandes a été effacé.",
    "empty-order": "Impossible de soumettre une commande vide.",

    // Checkout form
    "personal-details": "Détails Personnels",
    "full-name": "Nom Complet",
    email: "Email",
    "shipping-address": "Adresse de Livraison",
    "phone-number": "Numéro de Téléphone",
    "payment-method": "Méthode de Paiement",
    "cash-on-delivery": "Paiement à la Livraison",
    "bank-transfer": "Virement Bancaire",
    "bank-account-details": "Détails du Compte Bancaire",
    "account-name": "Nom du Compte: Treasure E-Commerce",
    "account-number": "Numéro de Compte: 1234567890",
    bank: "Banque: Banque Générique",
    "transfer-instruction":
      "Veuillez effectuer le virement puis cliquer sur 'Soumettre la Commande'.",
    "submit-order": "Soumettre la Commande",

    // Cart totals
    subtotal: "Sous-total",
    "checkout-fee": "Frais de Commande",
    total: "Total",

    // Order history
    "order-placed": "Commande Passée",
    "total-price": "Prix Total",
    customer: "Client",
    address: "Adresse",
    phone: "Téléphone",
    products: "Produits",
    "clear-history": "Effacer l'Historique",

    // Footer
    "brand-directory": "Répertoire de marques",
    fashion: "Mode",
    "t-shirt": "T-shirt",
    "shorts-jeans": "shorts et jeans",
    jacket: "veste",
    "dress-frock": "robe et frock",
    innerwear: "sous-vêtements",
    footwear: "chaussures",
    sport: "sport",
    formal: "formel",
    boots: "Bottes",
    casual: "décontracté",
    "safety-shoes": "chaussures de sécurité",
    "party-wear-shoes": "chaussures de soirée",
    branded: "De marque",
    jewellery: "bijoux",
    necklace: "Collier",
    "couple-rings": "Bagues de couple",
    crystal: "Cristal",
    bangles: "Bracelets",
    bracelets: "bracelets",
    nosepin: "épingle à nez",
    chain: "chaîne",
    earrings: "Boucles d'oreilles",
    cosmetics: "cosmétiques",
    shampoo: "Shampooing",
    bodywash: "Gel douche",
    facewash: "Nettoyant visage",
    "makeup-kit": "kit de maquillage",
    lipstick: "rouge à lèvres",
    prefume: "parfum",
    scrub: "gommage",
    "hair-gel": "gel pour cheveux",
    "hair-dye": "teinture pour cheveux",
    sunscreen: "crème solaire",
    liner: "liner",
    "popular-categories": "Catégories Populaires",
    "electronic-footer": "Électronique",
    watches: "Montres",
    "prices-drop": "Baisse de prix",
    "new-products": "Nouveaux produits",
    "best-sales": "Meilleures ventes",
    "popular-sales": "Ventes Populaires",
    sitemap: "Plan du site",
    "our-company": "Notre Entreprise",
    delivery: "Livraison",
    "legal-notice": "Mention légale",
    "terms-conditions": "Termes et conditions",
    "about-us": "À propos de nous",
    "secure-payment": "Paiement sécurisé",
    services: "Services",
    "contact-us": "Nous contacter",
    contact: "Contact",
    "follow-us": "Suivez-nous",
    copyright: "Copyright © Treasure tous droits réservés.",
  },
};

// Current language
let currentLanguage = localStorage.getItem("selectedLanguage") || "en";

// Function to translate product names
function translateProductName(productName) {
  return translate(productName) || productName;
}

// Function to get translated product for display
function getTranslatedProduct(product) {
  return {
    ...product,
    translatedName: translateProductName(product.name),
  };
}

// Function to translate text
function translate(key) {
  return translations[currentLanguage][key] || key;
}

// Function to update all translatable elements
function updatePageLanguage() {
  // Update elements with data-translate attribute
  document.querySelectorAll("[data-translate]").forEach((element) => {
    const key = element.getAttribute("data-translate");
    const translation = translate(key);

    if (element.tagName === "INPUT" && element.type === "text") {
      element.placeholder = translation;
    } else if (element.tagName === "INPUT" && element.type === "search") {
      element.placeholder = translation;
    } else {
      element.textContent = translation;
    }
  });

  // Update title elements separately
  document.querySelectorAll(".title").forEach((element) => {
    const key = element.getAttribute("data-translate");
    if (key) {
      element.textContent = translate(key);
    }
  });
}

// Function to change language
function changeLanguage(language) {
  currentLanguage = language;
  localStorage.setItem("selectedLanguage", language);
  updatePageLanguage();

  // Update language selector
  const languageSelect = document.querySelector('select[name="language"]');
  if (languageSelect) {
    languageSelect.value = language === "en" ? "en-US" : "fr";
  }
}

// Initialize language system
function initLanguageSystem() {
  // Set up language selector
  const languageSelect = document.querySelector('select[name="language"]');
  if (languageSelect) {
    // Set initial value
    languageSelect.value = currentLanguage === "en" ? "en-US" : "fr";

    // Add event listener
    languageSelect.addEventListener("change", (e) => {
      const selectedLang = e.target.value === "en-US" ? "en" : "fr";
      changeLanguage(selectedLang);
    });
  }

  // Initial translation
  updatePageLanguage();
}

// Initialize when DOM is loaded
document.addEventListener("DOMContentLoaded", initLanguageSystem);

// Override some functions to use translations
const originalShowMessage = window.showMessage;
window.showMessage = function (messageKey, type = "success") {
  // Check if it's a translation key or direct message
  let message = messageKey;
  if (translations[currentLanguage][messageKey]) {
    message = translate(messageKey);
  }
  originalShowMessage(message, type);
};

// Export functions for global use
window.translate = translate;
window.changeLanguage = changeLanguage;
window.updatePageLanguage = updatePageLanguage;
